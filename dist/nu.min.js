/*! nu 2014-02-11 */
!function(a){"use strict";var b=a.module("nu.list",[]);b.directive("nuList",["$parse",function(b){return{template:'<div class="nu list"></div>',restrict:"EACM",replace:!0,controller:function(c,d,e){this.$render=a.noop,this.$filter=a.noop,this.$link=a.noop;var f=this.$srcVar=e[e.nuList?"nuList":"src"],g=this.$src=b(f)(c),h=this.$nuOnRender=null,i=this.$nuOnAppend=null;e.$observe("nuOnRender",function(a){h=b(a)(c)}),e.$observe("nuOnAppend",function(a){i=b(a)(c)}),this.$add=function(a){h&&(a=i(a)),a&&g.push(a)},this.$remove=function(a){c.$apply(function(){g.splice(a,1)})};var j=this,k=this.$draw=function(b){var c=a.element(d);a.forEach(b,function(c,d){if(this.$nuOnAppend&&(b=j.$nuOnAppend(b)),c){var e=j.$render(c);e&&(a.element(e).data("index",d),j.$link(e),this.append(e))}},c.html(""))};this.$redraw=function(){c.apply(function(){k(g)})}},link:function(a,b,c,d){a.$watchCollection(d.$srcVar,d.$draw)}}}]),b.directive("nuListType",["$compile",function(){var b=function(b){return a.element('<span class="item thumb"><img src="'+b+'"></img></span>')},c=function(b){return a.element('<span class="item">'+b+"</span>")};return{restrict:"A",require:"nuList",link:function(a,d,e,f){f.$render="img"===e.nuListType?b:c}}}]),b.directive("nuListRemovable",["$compile",function(){return{restrict:"A",require:"nuList",link:function(b,c,d,e){var f=function(b){e.$remove(a.element(b.currentTarget).data("index"))};e.$link=function(a){a.addClass("remove").on("click",f)}}}}]),b.directive("nuListAddable",["$timeout",function(){var b=function(b,c,d,e){var f=a.element('<label class="buffer img"></label>'),g=a.element('<input type="file" multiple>');f.append(g);var h=null,i=function(a){e.$add(a.target.result),a.target===h&&(h=null,b.$digest())};return g.on("change",function(){for(var a=this,b=0;b<a.files.length;b++){var c=a.files[b];c.type.match(/image.*/)&&(h=new FileReader,h.onload=i,h.readAsDataURL(c))}}),f},c=function(b,c,d,e){var f=a.element('<span contenteditable="true" class="buffer">Â </span>');return f.on("keydown",function(a){var c=a.which||a.keyCode;if(13===c){var d=this.innerHTML.replace("&nbsp;","").trim();this.blur(),a.preventDefault(),""!==d&&d&&b.$apply(function(){e.$add(d)})}}),f};return{restrict:"A",require:"nuList",link:function(a,d,e,f){var g=f.$draw;f.$draw=function(){var h=("img"===e.nuListType?b:c)(a,d,e,f);g.apply(this,arguments),d.append(h)}}}}])}(angular),"undefined"!=typeof $script&&"function"==typeof $script.done&&$script.done("nu.list"),function(a){"use strict";var b=function(b){b=a.extend({pool:"0123456789abcdefghiklmnopqrstuvwxyz",size:8},b);for(var c="",d=0;d<b.size;d++)c+=b.pool[Math.floor(Math.random()*b.pool.length)];return c},c=function(a,b,c){for(var d=2;d<c.length;d++)a.attr(c[d],b.attr(c[d])),b.removeAttr(c[d]);return a},d=a.module("nu.pb",[]);d.directive("nuPressButton",[function(){var a='<div class="nu button press"><input class="src" type="checkbox" autocomplete="off" style="display:none;"><label class="icon {{icon}} {{state}}"></label></div>';return{template:a,restrict:"EACM",replace:!0,require:"?ngModel",scope:{},compile:function(a,d){var e=d.id;e?a.removeAttr("id"):e=b(),c(a.find("input"),a,["name","checked"]).attr("id",e);var f=a.find("label");f.attr("for",e);var g=function(a,b,c,d){var e=null,f=null,g=!0,h=!1;c.$observe("on",function(a){g=a}),c.$observe("off",function(a){h=a}),c.$observe("icon",function(b){a.icon=b}),c.$observe("iconOn",function(a){e=a}),c.$observe("iconOff",function(a){f=a});var i=b.find("input");d&&(d.$render=function(){i.checked=g===d.$viewValue||!g&d.$viewValue,a.state=i.checked&&e?e:f},i.on("change",function(){var b=this;a.$apply(function(){var g=b.checked;d.$setViewValue(c.on&&c.off?g?c.on:c.off:g),a.state=g&&e?e:f})}))};return g}}}])}(angular),"undefined"!=typeof $script&&"function"==typeof $script.done&&$script.done("nu.switch"),function(a){"use strict";var b=function(b){b=a.extend({pool:"0123456789abcdefghiklmnopqrstuvwxyz",size:8},b);for(var c="",d=0;d<b.size;d++)c+=b.pool[Math.floor(Math.random()*b.pool.length)];return c},c=function(a,b,c){for(var d=2;d<c.length;d++)a.attr(c[d],b.attr(c[d])),b.removeAttr(c[d]);return a},d=a.module("nu.switch",[]);d.directive("nuSwitch",[function(){var d='<div class="nu switch"><input class="src" type="checkbox" autocomplete="off"><label class="label" switch-off="{{labelOff}}" ng-bind="labelOn"></label></div>';return{template:d,restrict:"EACM",replace:!0,require:"?ngModel",scope:{},compile:function(d,e){var f=e.id;f?d.removeAttr("id"):f=b(),c(d.find("input"),d,["name","checked"]).attr("id",f),d.find("label").attr("for",f);var g=function(b,c,d,e){var f=!0,g=!1;if(d.$observe("on",function(a){f=b.labelOn=a}),d.$observe("off",function(a){g=b.labelOff=a}),e){var h=c.find("input");e.$render=function(){h.checked=f===e.$viewValue||!f&e.$viewValue},h.on("change",function(){var c=this;b.$apply(function(){e.$setViewValue(a.isDefined(d.on)&&a.isDefined(d.off)?c.checked?d.on:d.off:c.checked)})})}};return g}}}])}(angular),"undefined"!=typeof $script&&"function"==typeof $script.done&&$script.done("nu.switch");